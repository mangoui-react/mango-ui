import{j as m}from"./jsx-runtime-bkLU2cdM.js";import{R as d}from"./index-eK40FDle.js";import{u as _}from"./use-controlled-3NL49yyH.js";import{S as w}from"./slot-Ej57t_-l.js";import{u as O}from"./use-portal-_c5zPIwn.js";const y=d.createContext({role:"dialog",handleOpen:()=>{},handleClose:()=>{}});function x(e){const{role:t="dialog",open:o,defaultOpen:n,children:s,onOpenChange:r}=e,[l,i]=_(o,n),c=d.useCallback(()=>{l||(i(!0),r==null||r(!0))},[r,l,i]),a=d.useCallback(()=>{i(!1),r==null||r(!1)},[r,i]),u=d.useMemo(()=>({role:t,open:l,handleOpen:c,handleClose:a}),[a,c,l,t]);return m.jsx(y.Provider,{value:u,children:s})}x.displayName="Dialog";x.__docgenInfo={description:"",methods:[],displayName:"Dialog",props:{role:{required:!1,tsType:{name:"union",raw:"'dialog' | 'presentation'",elements:[{name:"literal",value:"'dialog'"},{name:"literal",value:"'presentation'"}]},description:""},open:{required:!1,tsType:{name:"boolean"},description:"dialog open"},defaultOpen:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:`DialogTrigger 클릭시 open = true,
DialogClose (우측상단 [X] 버튼, 취소버튼) or backdrop 클릭 or ESC 키 선택시 open = false`}}};const E=()=>typeof document<"u";function L(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}const j=e=>E()&&e.test(L()),I=()=>j(/iP(hone|ad|od)|iOS/),b="data-scroll-locked";function v(e,t){if(!e)return;const o=e.style.cssText;return Object.assign(e.style,t),()=>{o?e.style.cssText=o:e.removeAttribute("style")}}function M(e,t,o){if(!e)return;const n=e.style.getPropertyValue(t);return e.style.setProperty(t,o),()=>{n?e.style.setProperty(t,n):(e.style.removeProperty(t),e.removeAttribute("style"))}}function A(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function q(e){const t=e??document,o=t.defaultView??window,{documentElement:n,body:s}=t;if(s.hasAttribute(b))return;s.setAttribute(b,"");const l=o.innerWidth-n.clientWidth,i=()=>M(n,"--scrollbar-width",`${l}px`),c=A(n),a=()=>v(s,{overflow:"hidden",[c]:`${l}px`}),u=()=>{const{scrollX:p,scrollY:g,visualViewport:f}=o,C=(f==null?void 0:f.offsetLeft)??0,S=(f==null?void 0:f.offsetTop)??0,D=v(s,{position:"fixed",overflow:"hidden",top:`${-(g-Math.floor(S))}px`,left:`${-(p-Math.floor(C))}px`,right:"0",[c]:`${l}px`});return()=>{D==null||D(),o.scrollTo({left:p,top:g,behavior:"instant"})}},h=[i(),I()?u():a()];return()=>{h.forEach(p=>p==null?void 0:p()),s.removeAttribute(b)}}const T=d.forwardRef((e,t)=>{const{preventCloseOnClick:o,onClick:n,...s}=e,{open:r,handleClose:l}=d.useContext(y),i=a=>{a.target===a.currentTarget&&(o||l(),n==null||n(a))},c=d.useRef();return d.useEffect(()=>{var a;r?c.current=q():(a=c.current)==null||a.call(c)},[r]),r?m.jsx("div",{...s,ref:t,onClick:i}):null});T.displayName="Dialog.Backdrop";const B=T;T.__docgenInfo={description:"",methods:[],displayName:"Dialog.Backdrop"};const R=d.forwardRef((e,t)=>{const{children:o,asChild:n,onClick:s,...r}=e,{handleClose:l}=d.useContext(y),i=n?w:"button",c=a=>{l(),s==null||s(a)};return m.jsx(i,{...r,ref:t,type:"button",onClick:c,children:o??"Close"})});R.displayName="Dialog.Close";const $=R;R.__docgenInfo={description:"",methods:[],displayName:"Dialog.Close"};const P=d.forwardRef((e,t)=>{const{style:o,destroyOnClose:n=!0,forceMount:s,closeOnEsc:r=!0,children:l,onKeyDown:i,...c}=e,{role:a,open:u,handleOpen:h,handleClose:p}=d.useContext(y),g=d.useRef(!0);d.useEffect(()=>{u&&(h(),g.current=!1)},[h,u]);const f=C=>{r&&C.key==="Escape"&&p(),i==null||i(C)};return g.current&&!u&&!s||!u&&!s&&n?null:m.jsx("div",{"data-state":u?"open":"closed",...c,ref:t,role:a,style:{display:u?void 0:"none",...o},tabIndex:-1,onKeyDown:f,children:l})});P.displayName="Dialog.Content";const W=P;P.__docgenInfo={description:"",methods:[],displayName:"Dialog.Content"};function N(e){const{container:t,children:o}=e,{Portal:n}=O(t);return m.jsx(n,{children:o})}N.displayName="Dialog.Portal";N.__docgenInfo={description:"",methods:[],displayName:"Dialog.Portal",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},container:{required:!1,tsType:{name:"union",raw:"HTMLElement | (() => HTMLElement)",elements:[{name:"HTMLElement"},{name:"unknown"}]},description:`Dialog 이 mount 되는 node
@default document.body`}}};const k=d.forwardRef((e,t)=>{const{children:o,asChild:n,onClick:s,...r}=e,{open:l,handleOpen:i}=d.useContext(y),c=n?w:"button",a=u=>{i(),s==null||s(u)};return m.jsx(c,{"data-state":l?"open":"closed",...r,type:"button",ref:t,onClick:a,children:o??"Dialog"})});k.displayName="Dialog.Trigger";const X=k;k.__docgenInfo={description:"",methods:[],displayName:"Dialog.Trigger"};const F={Root:x,Trigger:X,Portal:N,Content:W,Close:$,Backdrop:B};export{F as D};
